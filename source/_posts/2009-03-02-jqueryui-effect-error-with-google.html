---
layout: post
title: "jqueryUI effect error with Google Chrome and Safari"
date: 2009-03-02
comments: false
categories:
 - jquery
 - code
---

<div class='post'>
<div>Ran into a strange issue using <a href="http://jqueryui.com/">jqueryUI</a> <a href="http://jqueryui.com/demos/effects_general/#highlight">highlight effect</a>, the issue only occurred with <a href="http://webkit.org/">Webkit</a> browsers (Google Chrome and Safari) and only when I was manipulating the background property of the element that was being highlighted.</div><div><br />Using a slightly modified version of the <a href="http://jqueryui.com/demos/effects_general/highlight.html">demo</a>. I tweak the background image before applying the highlight effect</div><pre><br />$("#highlight").click(function() {<br />  $(this).css("background", "url(some_image.png) no-repeat");<br />  $(this).effect("highlight");<br />});<br /></pre><div>This resulted in the highlight appearing but not going away. Then checking it in the debugger the following javascript error was being generated - <span class="Apple-style-span" style="font-style: italic;"><span class="Apple-style-span" style="font-weight: bold;">"Uncaught TypeError: Cannot read property '0' of undefined,"</span></span> Changing the background manipulation to the following fixed the issue.</div><pre><br />$(this).css("background-image", "url(some_image.png)");<br />$(this).css("background-repeat", "no-repeat");<br />$(this).effect("highlight");<br /></pre><br /><div>Update 2009-03-06: You also need to make sure that if there is an existing style on the element being highlighted it is using the more verbose style tags of background-image and background-repeat or the same error will be encountered</div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Wesley</div>
<div class='content'>
Thank you for your post. This has solved a similar jQueryUI problem for me on Chrome. I&#39;m also aware now that it may be safer to use verbose background styles when dealing with Chrome and jQuery.</div>
</div>
<div class='comment'>
<div class='author'>Tim Stevens</div>
<div class='content'>
just had the same problem.<br /><br />was trying to highlight a table row that had been newly created.<br /><br />solved the problem by highlighting each child cell instead<br /><i><br />//tbody is the body of a table with a header and a footer. I just want to highlight the first row<br />//I use row.find rather than row.children in case there are embedded tables<br /><br />tbody.find(&quot;tr:first&quot;).find(&quot;td&quot;).effect(&quot;highlight&quot;, {}, 1000);<br /></i><br /><br />This didn&#39;t exhibit the same behaviour as just highlighting the row.</div>
</div>
</div>
